import Errors from '~/components/layout/errors'
import Link from '~/components/text/link'
import Note from '~/components/text/note'
import Caption from '~/components/text/caption'
import { InlineCode } from '~/components/text/code'
import { PRODUCT_NAME } from '~/lib/constants'
import ProductShortName from '~/components/name/product-short-name'

export const meta = {
  title: `Missing Build Script`,
  description: `Errors on ${PRODUCT_NAME}`,
  editUrl: 'pages/docs/errors/build-step/missing-build-script.mdx',
  lastEdited: '2020-05-06T06:05:13.000Z',
  shortUrl: 'missing-build-script'
}

### Explanation

<Note>
  This is only relevant if youâ€™re using <ProductShortName /> CLI 16.7.3 or
  older.
</Note>

If your project contains a `package.json` file, no `api` directory, and no `now.json` configuration, it is expected to provide a `build` [script](https://docs.npmjs.com/misc/scripts) that performs a static build of your frontend and outputs it to a `public` directory at the root of your project.

### How to Resolve This Error

When properly configured, your `package.json` file would look similar to this:

```json
{
  "scripts": {
    "build": "[my-framework] build --output public"
  }
}
```

<Caption>
  An example <InlineCode>build</InlineCode> script in a{' '}
  <InlineCode>package.json</InlineCode> file that specifies the output
  directory.
</Caption>

Once you have defined the `build` [script](https://docs.npmjs.com/misc/scripts), this error will disappear. Furthermore, it will not be displayed if you are using `package.json` purely to provide dependencies for your Serverless Functions located inside the `api` directory.

export default ({ children }) => <Errors meta={meta}>{children}</Errors>

export const config = {
  amp: 'hybrid'
}
